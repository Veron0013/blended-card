{"version":3,"file":"storage-Dd-qVddR.js","sources":["../../src/js/refs.js","../../src/js/render-function.js","../../src/js/storage.js"],"sourcesContent":["//Обʼєкт з посиланнями на ДОМ елементи\n\nexport default {\n\tBASE_URL: 'https://dummyjson.com/products',\n\tqCategories: 'https://dummyjson.com/products/categories',\n\tcurrentQuery: \"\",\n\tcurrentPage: 1,\n\ttotalItems: 0,\n\tdefLimit: 12,\n\tproductID: 0,\n\t//LS vars\n\tWL_DATA: \"wishListData\",\n\tCD_DATA: \"cardData\",\n\n\t//elements\n\tcategoryList: document.querySelector(\".categories\"),\n\tproductList: document.querySelector(\".products\"),\n\tload_more: document.querySelector(\".load-more__btn\"),\n\tsearchForm: document.querySelector(\".search-form\"),\n\tdivNotFound: document.querySelector(\".not-found\"),\n\t//modal\n\tproductModal: document.querySelector(\".modal-product\"),\n\tsectionModal: document.querySelector(\".modal\"),\n\tcloseBtnModal: document.querySelector(\".modal__close-btn\"),\n\t//card ==== wishlist\n\tarrOfCounters: document.querySelectorAll(\"nav__count\"),\n\taddToWishList: document.querySelector(\".modal-product__btn--wishlist\"),\n\taddToCart: document.querySelector(\".modal-product__btn--cart\"),\n\tcardCount: document.querySelector(\"[data-cart-count]\"),\n\twishCount: document.querySelector(\"[data-wishlist-count]\")\n\n};\n","//Функцію для створення, рендеру або видалення розмітки\n\nimport refs from \"./refs\";\n\nexport function createMarcup(element, data, callBack, clearElement = false) {\n\tif (clearElement) {\n\t\telement.innerHTML = \"\";\n\t}\n\telement.insertAdjacentHTML(\"beforeend\", callBack(data));\n}\n\nexport const markUpCategories = (data) => {\n\tconst mkData = data.map(({ name, url }) => {\n\t\treturn `<li class=\"categories__item\" data-url=\"${url}\">\n\t\t\t\t\t<button  class=\"categories__btn\" type=\"button\">${name}\n\t\t\t\t\t</button>\n\t\t\t\t</li>`;\n\t})\n\t\t.join(\"\");\n\treturn `<li class=\"categories__item\" data-url=\"${refs.BASE_URL}\">\n\t\t\t\t\t<button  class=\"categories__btn\" type=\"button\">ALL\n\t\t\t\t\t</button>\n\t\t\t\t</li>${mkData}`\n}\n\nexport const markUpProducts = (data) => {\n\tconst mkData = data.map(({ id, title, description, dimensions, category, price, discountPercentage, rating, stock, brand, sku, reviews, barcode, images }) => {\n\t\treturn `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${images[0]}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span>${brand}</p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>`\t})\n\t\t.join(\"\");\n\n\treturn mkData;\n}\n\nexport const markUpProductModal = ({ id, title, description, dimensions, category, price, discountPercentage, rating, stock, brand, sku, reviews, returnPolicy, images, shippingInformation, tags }) => {\n\tconst tagsList = tags?.map(tag => `<li class=\"modal-product__tag-item\">#${tag}</li>`) || [];\n\tconst tagsMark = tagsList.join('');\n\n\tconst dicsount = discountPercentage > 5 ? ` <p class=\"modal-product__price-before\">Price: <span class=\"modal-product__price-before-cross\">${Math.round(price * (1 + (discountPercentage / 100)))}$</span></p>` : ``;\n\n\tconst mkData = `<img class=\"modal-product__img\" src=\"${images[0]}\" alt=\"${title}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${title}</p>\n        <ul class=\"modal-product__tags\">${tagsMark}</ul>\n        <p class=\"modal-product__description\">${description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping: ${shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy: ${returnPolicy}</p>${dicsount}\n\t\t\t\t<p class=\"modal-product__price\">Price: ${price}$</p>\n        <button class=\"load-more__btn\" type=\"button\">Buy</button>\n      </div>`;\n\t//console.log(\"mark\", mkData);\n\n\trefs.productID = id;\n\n\treturn mkData;\n}\n\nexport function clearElement(element) {\n\telement.innerHTML = '';\n}\n\nexport function hideViewElement(element, className) {\n\telement.classList.remove(className);\n}\n\nexport function showViewElement(element, className) {\n\telement.classList.add(className);\n}","//Робота з loacalStorage\nimport refs from \"./refs\";\nimport * as render from \"./render-function.js\";\n\nexport function updateHeader() {\n\treadLocalStorage();\n}\n\nexport const readLocalStorage = () => {\n\tconst items = [\n\t\t{ key: refs.WL_DATA, el: refs.wishCount },\n\t\t{ key: refs.CD_DATA, el: refs.cardCount },\n\t];\n\n\titems.forEach(({ key, el }) => {\n\t\tif (localStorage.getItem(key)) {\n\t\t\tStorageService.setCountTo(el, key);\n\t\t}\n\t});\n\n}\n\n//= на подумать\n\nexport const StorageService = {\n\tget(key) {\n\t\treturn JSON.parse(localStorage.getItem(key)) || [];\n\t},\n\tadd(key, item) {\n\t\tconst data = this.get(key);\n\t\tif (!data.includes(item)) {\n\t\t\tdata.push(item);\n\t\t\tlocalStorage.setItem(key, JSON.stringify(data));\n\t\t}\n\t},\n\tcount(key) {\n\t\treturn this.get(key).length;\n\t},\n\tsetCountTo(el, key) {\n\t\tel.textContent = this.count(key);\n\t},\n};\n\nexport function confirmAndCloseModal(buton, keyData) {\n\tbuton.disabled = true;\n\tconsole.log(\"refID\", refs.productID);\n\n\tStorageService.add(keyData, refs.productID);\n\trender.hideViewElement(refs.sectionModal, 'modal--is-open');\n\tbuton.disabled = false;\n\n\tupdateHeader();\n}\n\nupdateHeader();"],"names":["refs","createMarcup","element","data","callBack","clearElement","markUpCategories","mkData","name","url","markUpProducts","id","title","description","dimensions","category","price","discountPercentage","rating","stock","brand","sku","reviews","barcode","images","markUpProductModal","returnPolicy","shippingInformation","tags","tagsMark","tag","dicsount","hideViewElement","className","showViewElement","updateHeader","readLocalStorage","key","el","StorageService","item","confirmAndCloseModal","buton","keyData","render.hideViewElement"],"mappings":"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"}