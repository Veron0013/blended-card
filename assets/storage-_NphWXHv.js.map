{"version":3,"file":"storage-_NphWXHv.js","sources":["../../src/js/refs.js","../../src/js/render-function.js","../../src/js/helpers.js","../../src/js/storage.js"],"sourcesContent":["//Обʼєкт з посиланнями на ДОМ елементи\n\nexport default {\n\tBASE_URL: 'https://dummyjson.com/products',\n\tqCategories: 'https://dummyjson.com/products/categories',\n\tcurrentQuery: \"\",\n\tcurrentPage: 1,\n\ttotalItems: 0,\n\tdefLimit: 12,\n\t//LS vars\n\tWL_DATA: \"wishListData\",\n\tCD_DATA: \"cardData\",\n\n\t//elements\n\tcategoryList: document.querySelector(\".categories\"),\n\tproductList: document.querySelector(\".products\"),\n\tload_more: document.querySelector(\".load-more__btn\"),\n\tsearchForm: document.querySelector(\".search-form\"),\n\tdivNotFound: document.querySelector(\".not-found\"),\n\t//modal\n\tproductModal: document.querySelector(\".modal-product\"),\n\tsectionModal: document.querySelector(\".modal\"),\n\tcloseBtnModal: document.querySelector(\".modal__close-btn\"),\n\t//card ==== wishlist\n\taddToWishList: document.querySelector(\".modal-product__btn--wishlist\"),\n\taddToCart: document.querySelector(\".modal-product__btn--cart\"),\n\tcardCount: document.querySelector(\"[data-cart-count]\"),\n\twishCount: document.querySelector(\"[data-wishlist-count]\")\n\n};\n","//Функцію для створення, рендеру або видалення розмітки\n\nimport refs from \"./refs\";\n\nexport function createMarcup(element, data, callBack, clearElement = false) {\n\n\tif (clearElement) {\n\t\telement.innerHTML = \"\";\n\t}\n\n\telement.insertAdjacentHTML(\"beforeend\", callBack(data));\n}\n\nexport const markUpCategories = (data) => {\n\tconst mkData = data.map(({ name, url }) => {\n\t\treturn `<li class=\"categories__item\" data-url=\"${url}\">\n\t\t\t\t\t<button  class=\"categories__btn\" type=\"button\">${name}\n\t\t\t\t\t</button>\n\t\t\t\t</li>`;\n\t})\n\t\t.join(\"\");\n\treturn mkData + `<li class=\"categories__item\" data-url=\"${refs.BASE_URL}\">\n\t\t\t\t\t<button  class=\"categories__btn\" type=\"button\">ALL\n\t\t\t\t\t</button>\n\t\t\t\t</li>`\n}\n\nexport const markUpProducts = (data) => {\n\tconst mkData = data.map(({ id, title, description, dimensions, category, price, discountPercentage, rating, stock, brand, sku, reviews, barcode, images }) => {\n\t\treturn `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${images[0]}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span>${brand}</p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>`\t})\n\t\t.join(\"\");\n\n\treturn mkData;\n}\n\nexport const markUpProductModal = ({ title, description, dimensions, category, price, discountPercentage, rating, stock, brand, sku, reviews, returnPolicy, images, shippingInformation, tags }) => {\n\tconst tagsMark = tags\n\t\t.map(tag => `<li class=\"modal-product__tag-item\">#${tag}</li>`)\n\t\t.join('');\n\n\tconst dicsount = discountPercentage > 5 ? ` <p class=\"modal-product__price-before\">Price: <span class=\"modal-product__price-before-cross\">${Math.round(price * (1 + (discountPercentage / 100)))}$</span></p>` : ``;\n\n\tconst mkData = `<img class=\"modal-product__img\" src=\"${images[0]}\" alt=\"${title}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${title}</p>\n        <ul class=\"modal-product__tags\">${tagsMark}</ul>\n        <p class=\"modal-product__description\">${description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping: ${shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy: ${returnPolicy}</p>${dicsount}\n\t\t\t\t<p class=\"modal-product__price\">Price: ${price}$</p>\n        <button class=\"load-more__btn\" type=\"button\">Buy</button>\n      </div>`;\n\tconsole.log(mkData);\n\n\treturn mkData;\n}\n\nexport function clearElement(element) {\n\telement.innerHTML = '';\n}\n\nexport function hideViewElement(element, className) {\n\telement.classList.remove(className);\n}\n\nexport function showViewElement(element, className) {\n\telement.classList.add(className);\n}","//Допоміжні функції\nimport * as render from \"./render-function.js\";\nimport refs from \"./refs\";\n\nexport function setContFromLocalStorage(element, keyData) {\n\tconst wCount = JSON.parse(localStorage.getItem(keyData)).length;\n\tconsole.log(JSON.parse(localStorage.getItem(keyData)));\n\n\telement.textContent = wCount;\n}\n\nexport function confirmAnfCloseModal(buton, productId, keyData) {\n\tbuton.disabled = true;\n\n\taddProductsToLocalStorage(productId, keyData);\n\n\trender.hideViewElement(refs.sectionModal, 'modal--is-open');\n\tbuton.disabled = false;\n}\n\nexport function addProductsToLocalStorage(productID, keyData) {\n\tconst vData = localStorage.getItem(keyData);\n\n\tconst pData = !vData ? [] : JSON.parse(vData);\n\n\tpData.push(productID);\n\n\tconsole.log(localStorage.getItem(\"ls_data\", keyData));\n\tlocalStorage.setItem(keyData, JSON.stringify(pData));\n\n\treadLocalStorage();\n}\n\nexport const readLocalStorage = () => {\n\tif (localStorage.getItem(refs.WL_DATA)) {\n\t\tsetContFromLocalStorage(refs.wishCount, refs.WL_DATA);\n\t}\n\tif (localStorage.getItem(refs.CD_DATA)) {\n\t\tsetContFromLocalStorage(refs.cardCount, refs.CD_DATA);\n\t}\n}","//Робота з loacalStorage\nimport * as helper from \"./helpers.js\";\n\nexport function updateHeader() {\n\thelper.readLocalStorage();\n}\n\nupdateHeader();"],"names":["refs","createMarcup","element","data","callBack","clearElement","markUpCategories","name","url","markUpProducts","id","title","description","dimensions","category","price","discountPercentage","rating","stock","brand","sku","reviews","barcode","images","markUpProductModal","returnPolicy","shippingInformation","tags","tagsMark","tag","dicsount","mkData","hideViewElement","className","showViewElement","setContFromLocalStorage","keyData","wCount","confirmAnfCloseModal","buton","productId","addProductsToLocalStorage","render.hideViewElement","productID","vData","pData","readLocalStorage","updateHeader","helper.readLocalStorage"],"mappings":"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"}