import{a as C}from"./vendor-DGDcxXwr.js";const c={BASE_URL:"https://dummyjson.com/products",qCategories:"https://dummyjson.com/products/categories",currentQuery:"",currentPage:1,totalItems:0,defLimit:12,productID:0,price:0,inWishList:!1,inCardList:!1,isSearch:!1,WL_DATA:"wishListData",CD_DATA:"cardData",TC_REMOVE:"Remove from cart",TW_REMOVE:"Remove from Wishlist",TC_ADD:"Add to cart",TW_ADD:"Add to Wishlist",categoryList:document.querySelector(".categories"),productList:document.querySelector(".products"),load_more:document.querySelector(".load-more__btn"),searchForm:document.querySelector(".search-form"),divNotFound:document.querySelector(".not-found"),searchFormButton:document.querySelector(".search-form__btn-clear"),productModal:document.querySelector(".modal-product"),sectionModal:document.querySelector(".modal"),closeBtnModal:document.querySelector(".modal__close-btn"),arrOfCounters:document.querySelectorAll("nav__count"),addToWishList:document.querySelector(".modal-product__btn--wishlist"),addToCart:document.querySelector(".modal-product__btn--cart"),cardCount:document.querySelector("[data-cart-count]"),wishCount:document.querySelector("[data-wishlist-count]"),cardItemsCount:document.querySelector("[data-count]"),cardItemsTotal:document.querySelector("[data-price]")};function T(t,e,o,s=!1){s&&(t.innerHTML=""),t.insertAdjacentHTML("beforeend",o(e))}const q=t=>{const e=t.map(({name:o,url:s})=>`<li class="categories__item" data-url="${s}">
					<button  class="categories__btn" type="button">${o}
					</button>
				</li>`).join("");return`<li class="categories__item" data-url="${c.BASE_URL}">
					<button  class="categories__btn" type="button">ALL
					</button>
				</li>${e}`},M=t=>t.map(({id:o,title:s,description:r,dimensions:a,category:i,price:u,discountPercentage:l,rating:m,stock:_,brand:g,sku:f,reviews:h,barcode:S,images:d})=>`<li class="products__item" data-id="${o}">
    <img class="products__image" src="${d[0]}" alt="${s}"/>
    <p class="products__title">${s}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand:</span>${g}</p>
    <p class="products__category">Category: ${i}</p>
    <p class="products__price">Price: ${u}$</p>
 </li>`).join(""),W=({id:t,title:e,description:o,dimensions:s,category:r,price:a,discountPercentage:i,rating:u,stock:l,brand:m,sku:_,reviews:g,returnPolicy:f,images:h,shippingInformation:S,tags:d})=>{const $=((d==null?void 0:d.map(L=>`<li class="modal-product__tag-item">#${L}</li>`))||[]).join(""),b=i>5?` <p class="modal-product__price-before">Price: <span class="modal-product__price-before-cross">${Math.round(a*(1+i/100))}$</span></p>`:"",y=`<img class="modal-product__img" src="${h[0]}" alt="${e}" />
      <div class="modal-product__content">
        <p class="modal-product__title">${e}</p>
        <ul class="modal-product__tags">${$}</ul>
        <p class="modal-product__description">${o}</p>
        <p class="modal-product__shipping-information">Shipping: ${S}</p>
        <p class="modal-product__return-policy">Return Policy: ${f}</p>${b}
				<p class="modal-product__price">Price: ${a}$</p>
        <button class="load-more__btn" type="button">Buy</button>
      </div>`;return c.productID=t,c.price=a,y};function v(t){t.innerHTML=""}function w(t,e){t.classList.remove(e)}function B(t,e){t.classList.add(e)}function E(t,e,o,s,r){const a=r(e,c.productID);return t.textContent=a?s:o,a}function p(){I()}const I=()=>{[{key:c.WL_DATA,el:c.wishCount},{key:c.CD_DATA,el:c.cardCount}].forEach(({key:e,el:o})=>{localStorage.getItem(e)&&n.setCountTo(o,e)})},n={get(t){return JSON.parse(localStorage.getItem(t))||[]},addToWishList(t,e){const o=this.get(t);o.includes(e)||(o.push(e),localStorage.setItem(t,JSON.stringify(o)))},addToCard(t,e,o,s=1){const r=this.get(t);r.findIndex(i=>i.id===e)===-1?r.push({id:e,price:o,qty:s}):console.log("izitoast"),localStorage.setItem(t,JSON.stringify(r))},removeFromStorage(t,e,o=!1){const r=this.get(t).filter(a=>o?a.id!==e:a!==e);localStorage.setItem(t,JSON.stringify(r))},setTotalCard(t){const e=this.get(c.CD_DATA);let o=0;e.length&&(o=e.reduce((s,r)=>s+r.price*r.qty,0)),console.log(o),t.textContent=`${o.toFixed(2)} $`},count(t){return this.get(t).length},isInCardList(t,e){return this.get(t).find(o=>o.id===e)!==void 0},isInWishList(t,e){return this.get(t).find(o=>o===e)!==void 0},setCountTo(t,e){t.textContent=this.count(e)}};function x(t,e,o=!1){t.disabled=!0,console.log("refID",c.productID),o?n.addToCard(e,c.productID,c.price):n.addToWishList(e,c.productID),t.disabled=!1,p()}function R({button:t,key:e,id:o,addHandler:s,checkHandler:r,removeHandler:a,updateButton:i,labelAdd:u,labelRemove:l,isCard:m=!1}){r(e,o)?a(e,o,m):s(t,e),i(t,e,u,l,r),p()}p();const O=n.isInWishList.bind(n),j=n.isInCardList.bind(n),k=n.removeFromStorage.bind(n);async function F(t){return await C.get(t).then(e=>e).catch(e=>e.message)}const P=(t,e,o,s="?")=>`${t}${s}limit=${o}&skip=${e}`;export{k as R,n as S,T as a,M as b,v as c,W as d,j as e,P as f,F as g,w as h,O as i,x as j,p as k,q as m,c as r,B as s,R as t,E as u};
//# sourceMappingURL=products-api-CBr3JhCe.js.map
