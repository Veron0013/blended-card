{"version":3,"file":"cart.js","sources":["../src/cart.js"],"sourcesContent":["//Логіка сторінки Cart\n\nimport refs from \"./js/refs.js\";\nimport * as render from \"./js/render-function.js\";\nimport * as apiRest from \"./js/products-api.js\";\nimport * as storageLib from \"./js/storage.js\";\n\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\trender.cardListLoad(refs.CD_DATA);\n});\n\n//function cardLoad() {\n//\tconsole.log(\"cart\");\n//\trender.clearElement(refs.productList);\n\n//\tstorageLib.updateHeader();\n//\tstorageLib.StorageService.setCountTo(refs.cardItemsCount, refs.CD_DATA);\n//\tstorageLib.StorageService.setTotalCard(refs.cardItemsTotal);\n\n//\tmarkUpCardProducts();\n//}\n\n\n\nconst renderProducts = async (queryLink) => {\n\ttry {\n\t\tconst dataProd = await apiRest.getApiData(queryLink);\n\t\tconsole.log(dataProd.data, \"render\", refs.productModal);\n\t\trender.createMarcup(refs.productModal, dataProd.data, render.markUpProductModal, true);\n\t\trender.addClassElement(refs.sectionModal, 'modal--is-open');\n\t\t//refs.sectionModal.classList.add('modal--is-open');\n\t}\n\tcatch (e) {\n\t\tconsole.log(e.message);\n\t}\n}\n\nrefs.productList.addEventListener(\"click\", (e) => {\n\tconst prodEl = e.target.closest(\".products__item\");\n\tif (!prodEl) return;\n\n\tconsole.log(prodEl);\n\tconst prodId = prodEl.dataset.id;\n\n\tconst vQuery = refs.BASE_URL + `/${prodId}`;\n\tconsole.log(vQuery);\n\n\trender.renderProductsModal(vQuery);\n});\nrefs.closeBtnModal.addEventListener(\"click\", (e) => {\n\trender.removeClassElement(refs.sectionModal, 'modal--is-open');\n\tcardLoad();\n});\nrefs.addToCart.addEventListener(\"click\", (e) => {\n\tstorageLib.toggleStorageItem({\n\t\tbutton: refs.addToCart,\n\t\tkey: refs.CD_DATA,\n\t\tid: refs.productID,\n\t\taddHandler: (btn, key) => storageLib.confirmAndCloseModal(btn, key, true),\n\t\tcheckHandler: storageLib.isInCardListBind,\n\t\tremoveHandler: storageLib.RemoveFromStorageBind,\n\t\tupdateButton: render.updateButtonState,\n\t\tlabelAdd: refs.TC_ADD,\n\t\tlabelRemove: refs.TC_REMOVE,\n\t\tisCard: true\n\t});\n});\nrefs.addToWishList.addEventListener(\"click\", (e) => {\n\tstorageLib.toggleStorageItem({\n\t\tbutton: refs.addToWishList,\n\t\tkey: refs.WL_DATA,\n\t\tid: refs.productID,\n\t\taddHandler: (btn, key) => storageLib.confirmAndCloseModal(btn, key),\n\t\tcheckHandler: storageLib.isInWishListBind,\n\t\tremoveHandler: storageLib.RemoveFromStorageBind,\n\t\tupdateButton: render.updateButtonState,\n\t\tlabelAdd: refs.TW_ADD,\n\t\tlabelRemove: refs.TW_REMOVE\n\t});\n});\n"],"names":["render.cardListLoad","refs","e","prodEl","prodId","vQuery","render.renderProductsModal","render.removeClassElement","storageLib.toggleStorageItem","btn","key","storageLib.confirmAndCloseModal","storageLib.isInCardListBind","storageLib.RemoveFromStorageBind","render.updateButtonState","storageLib.isInWishListBind"],"mappings":"4JAQA,SAAS,iBAAiB,mBAAoB,IAAM,CACnDA,EAAoBC,EAAK,OAAO,CACjC,CAAC,EA4BDA,EAAK,YAAY,iBAAiB,QAAUC,GAAM,CACjD,MAAMC,EAASD,EAAE,OAAO,QAAQ,iBAAiB,EACjD,GAAI,CAACC,EAAQ,OAEb,QAAQ,IAAIA,CAAM,EAClB,MAAMC,EAASD,EAAO,QAAQ,GAExBE,EAASJ,EAAK,SAAW,IAAIG,CAAM,GACzC,QAAQ,IAAIC,CAAM,EAElBC,EAA2BD,CAAM,CAClC,CAAC,EACDJ,EAAK,cAAc,iBAAiB,QAAUC,GAAM,CACnDK,EAA0BN,EAAK,aAAc,gBAAgB,EAC7D,UACD,CAAC,EACDA,EAAK,UAAU,iBAAiB,QAAUC,GAAM,CAC/CM,EAA6B,CAC5B,OAAQP,EAAK,UACb,IAAKA,EAAK,QACV,GAAIA,EAAK,UACT,WAAY,CAACQ,EAAKC,IAAQC,EAAgCF,EAAKC,EAAK,EAAI,EACxE,aAAcE,EACd,cAAeC,EACf,aAAcC,EACd,SAAUb,EAAK,OACf,YAAaA,EAAK,UAClB,OAAQ,EACV,CAAE,CACF,CAAC,EACDA,EAAK,cAAc,iBAAiB,QAAUC,GAAM,CACnDM,EAA6B,CAC5B,OAAQP,EAAK,cACb,IAAKA,EAAK,QACV,GAAIA,EAAK,UACT,WAAY,CAACQ,EAAKC,IAAQC,EAAgCF,EAAKC,CAAG,EAClE,aAAcK,EACd,cAAeF,EACf,aAAcC,EACd,SAAUb,EAAK,OACf,YAAaA,EAAK,SACpB,CAAE,CACF,CAAC"}