{"version":3,"file":"cart.js","sources":["../src/cart.js"],"sourcesContent":["//Логіка сторінки Cart\n\nimport refs from \"./js/refs.js\";\nimport * as render from \"./js/render-function.js\";\nimport * as apiRest from \"./js/products-api.js\";\nimport * as storageLib from \"./js/storage.js\";\n\n\nrefs.productList.addEventListener(\"click\", (e) => {\n\tconst prodEl = e.target.closest(\".products__item\");\n\tif (!prodEl) return;\n\n\tconsole.log(prodEl);\n\tconst prodId = prodEl.dataset.id;\n\n\tconst vQuery = refs.BASE_URL + `/${prodId}`;\n\tconsole.log(vQuery);\n\n\trender.renderProductsModal(vQuery);\n});\nrefs.closeBtnModal.addEventListener(\"click\", (e) => {\n\trender.removeClassElement(refs.sectionModal, 'modal--is-open');\n\trender.cardListLoad(refs.CD_DATA);\n});\nrefs.addToCart.addEventListener(\"click\", (e) => {\n\tstorageLib.toggleStorageItem({\n\t\tbutton: refs.addToCart,\n\t\tkey: refs.CD_DATA,\n\t\tid: refs.productID,\n\t\taddHandler: (btn, key) => storageLib.confirmAndCloseModal(btn, key, true),\n\t\tcheckHandler: storageLib.isInCardListBind,\n\t\tremoveHandler: storageLib.RemoveFromStorageBind,\n\t\tupdateButton: render.updateButtonState,\n\t\tlabelAdd: refs.TC_ADD,\n\t\tlabelRemove: refs.TC_REMOVE,\n\t\tisCard: true\n\t});\n});\nrefs.addToWishList.addEventListener(\"click\", (e) => {\n\tstorageLib.toggleStorageItem({\n\t\tbutton: refs.addToWishList,\n\t\tkey: refs.WL_DATA,\n\t\tid: refs.productID,\n\t\taddHandler: (btn, key) => storageLib.confirmAndCloseModal(btn, key),\n\t\tcheckHandler: storageLib.isInWishListBind,\n\t\tremoveHandler: storageLib.RemoveFromStorageBind,\n\t\tupdateButton: render.updateButtonState,\n\t\tlabelAdd: refs.TW_ADD,\n\t\tlabelRemove: refs.TW_REMOVE\n\t});\n});\n\nwindow.addEventListener(\"scroll\", () => {\n\tconsole.log(window.scrollY);\n\n\tif (window.scrollY > 600) {\n\t\trender.removeClassElement(refs.backoTop, \"hidden\");\n\t} else {\n\t\trender.addClassElement(refs.backoTop, \"hidden\");\n\t}\n});\n\nrefs.backoTop.addEventListener(\"click\", () => {\n\twindow.scrollTo({ top: 0, behavior: \"smooth\" });\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\trender.cardListLoad(refs.CD_DATA);\n});\n"],"names":["refs","e","prodEl","prodId","vQuery","render.renderProductsModal","render.removeClassElement","render.cardListLoad","storageLib.toggleStorageItem","btn","key","storageLib.confirmAndCloseModal","storageLib.isInCardListBind","storageLib.RemoveFromStorageBind","render.updateButtonState","storageLib.isInWishListBind","render.addClassElement"],"mappings":"mKAQAA,EAAK,YAAY,iBAAiB,QAAUC,GAAM,CACjD,MAAMC,EAASD,EAAE,OAAO,QAAQ,iBAAiB,EACjD,GAAI,CAACC,EAAQ,OAEb,QAAQ,IAAIA,CAAM,EAClB,MAAMC,EAASD,EAAO,QAAQ,GAExBE,EAASJ,EAAK,SAAW,IAAIG,CAAM,GACzC,QAAQ,IAAIC,CAAM,EAElBC,EAA2BD,CAAM,CAClC,CAAC,EACDJ,EAAK,cAAc,iBAAiB,QAAUC,GAAM,CACnDK,EAA0BN,EAAK,aAAc,gBAAgB,EAC7DO,EAAoBP,EAAK,OAAO,CACjC,CAAC,EACDA,EAAK,UAAU,iBAAiB,QAAUC,GAAM,CAC/CO,EAA6B,CAC5B,OAAQR,EAAK,UACb,IAAKA,EAAK,QACV,GAAIA,EAAK,UACT,WAAY,CAACS,EAAKC,IAAQC,EAAgCF,EAAKC,EAAK,EAAI,EACxE,aAAcE,EACd,cAAeC,EACf,aAAcC,EACd,SAAUd,EAAK,OACf,YAAaA,EAAK,UAClB,OAAQ,EACV,CAAE,CACF,CAAC,EACDA,EAAK,cAAc,iBAAiB,QAAUC,GAAM,CACnDO,EAA6B,CAC5B,OAAQR,EAAK,cACb,IAAKA,EAAK,QACV,GAAIA,EAAK,UACT,WAAY,CAACS,EAAKC,IAAQC,EAAgCF,EAAKC,CAAG,EAClE,aAAcK,EACd,cAAeF,EACf,aAAcC,EACd,SAAUd,EAAK,OACf,YAAaA,EAAK,SACpB,CAAE,CACF,CAAC,EAED,OAAO,iBAAiB,SAAU,IAAM,CACvC,QAAQ,IAAI,OAAO,OAAO,EAEtB,OAAO,QAAU,IACpBM,EAA0BN,EAAK,SAAU,QAAQ,EAEjDgB,EAAuBhB,EAAK,SAAU,QAAQ,CAEhD,CAAC,EAEDA,EAAK,SAAS,iBAAiB,QAAS,IAAM,CAC7C,OAAO,SAAS,CAAE,IAAK,EAAG,SAAU,QAAQ,CAAE,CAC/C,CAAC,EAED,SAAS,iBAAiB,mBAAoB,IAAM,CACnDO,EAAoBP,EAAK,OAAO,CACjC,CAAC"}