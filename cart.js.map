{"version":3,"file":"cart.js","sources":["../src/cart.js"],"sourcesContent":["//Логіка сторінки Cart\n\nimport refs from \"./js/refs.js\";\nimport * as render from \"./js/render-function.js\";\nimport * as apiRest from \"./js/products-api.js\";\nimport * as storageLib from \"./js/storage.js\";\n\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\tconsole.log(\"cart\");\n\n\tstorageLib.updateHeader();\n\n\tstorageLib.StorageService.setCountTo(refs.cardItemsCount, refs.CD_DATA);\n\tstorageLib.StorageService.setTotalCard(refs.cardItemsTotal);\n\tmarkUpCardProducts();\n});\n\nasync function markUpCardProducts() {\n\tconst storageData = storageLib.StorageService.get(refs.CD_DATA);\n\tconst mkUpData = [];\n\tfor (const item of storageData) {\n\t\tconst vQuery = refs.BASE_URL + `/${item.id}`;\n\t\ttry {\n\t\t\tconst dataProd = await apiRest.getApiData(vQuery);\n\t\t\tconsole.log(dataProd.data.length);\n\t\t\tif (dataProd.data) {\n\t\t\t\tmkUpData.push(dataProd.data)\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t\tcontinue;\n\t\t}\n\t}\n\n\tconsole.log(\"марк\", mkUpData);\n\n\trender.createMarcup(refs.productList, mkUpData, render.markUpProducts, false);\n\n}\n\nconst renderProducts = async (queryLink) => {\n\ttry {\n\t\tconst dataProd = await apiRest.getApiData(queryLink);\n\t\tconsole.log(dataProd.data, \"render\", refs.productModal);\n\t\trender.createMarcup(refs.productModal, dataProd.data, render.markUpProductModal, true);\n\t\trender.showViewElement(refs.sectionModal, 'modal--is-open');\n\t\t//refs.sectionModal.classList.add('modal--is-open');\n\t}\n\tcatch (e) {\n\t\tconsole.log(e.message);\n\t}\n}\n"],"names":["storageLib.updateHeader","storageLib.StorageService","refs","markUpCardProducts","storageData","mkUpData","item","vQuery","dataProd","apiRest.getApiData","error","render.createMarcup","render.markUpProducts"],"mappings":"iKAQA,SAAS,iBAAiB,mBAAoB,IAAM,CACnD,QAAQ,IAAI,MAAM,EAElBA,IAEAC,EAA0B,WAAWC,EAAK,eAAgBA,EAAK,OAAO,EACtED,EAA0B,aAAaC,EAAK,cAAc,EAC1DC,GACD,CAAC,EAED,eAAeA,GAAqB,CACnC,MAAMC,EAAcH,EAA0B,IAAIC,EAAK,OAAO,EACxDG,EAAW,CAAA,EACjB,UAAWC,KAAQF,EAAa,CAC/B,MAAMG,EAASL,EAAK,SAAW,IAAII,EAAK,EAAE,GAC1C,GAAI,CACH,MAAME,EAAW,MAAMC,EAAmBF,CAAM,EAChD,QAAQ,IAAIC,EAAS,KAAK,MAAM,EAC5BA,EAAS,MACZH,EAAS,KAAKG,EAAS,IAAI,CAE5B,OAAQE,EAAO,CACf,QAAQ,IAAIA,CAAK,EACjB,QACA,CACD,CAED,QAAQ,IAAI,OAAQL,CAAQ,EAE5BM,EAAoBT,EAAK,YAAaG,EAAUO,EAAuB,EAAK,CAE7E"}